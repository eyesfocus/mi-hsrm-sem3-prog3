#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int out(char wort[], char soundex[]){
  int i,j;
  int size_w = strlen(wort);
  int size_s =strlen(soundex);

  for(i=0; i<size_w; i++){
    putchar(wort[i]);
  }

  printf(" : ");

  for(j=0; j<size_s; j++){
    printf("%c", soundex[j]);
  }

  printf("\n");
  

  return 0;
}


int generate(char wort []){
  char soundex [6];
  int size = strlen(wort);
  int soundsize = strlen(soundex);
  int i;
  int j=1;
  char akt;


  printf("%d", size);
  soundex[0] = wort[0];

  for(i=1; i<size & j<soundsize ; i++){
    akt = wort[i];

    printf("\nj:%d i:%d zeichen:%c ziffer: %c\n", j, i, akt, soundex[j]);
     
    if(akt == ('b' || 'f' || 'p' || 'v')){
	soundex[j++] = '1';
      } else if(akt == ('c' || 'g' || 'j' || 'k' || 'q' || 's' || 'x' || 'z')){
	soundex[j++] = '2';
      } else if(akt == 'd' || akt == 't')){
	soundex[j++] = '3';
      } else if (akt == 'l'){
        soundex[j++] = '4';
      } else if(akt == 'm' || akt == 'n'){
   	soundex[j++] = '5';
      } else if (akt == 'r'){
	soundex[j++] = '6';
      } 

      if(soundex[j-1] == soundex[j-2]){
	j--;
      }
  }

  if (j < soundsize){
    for(j=j; j<soundsize; j++){
      soundex[j] = '0';
    }
  }

  out(wort, soundex);

  return 0;
}

int main(int argc, char *argv[]){
  int i;
    generate(argv[1]);
  


  return 0;
}
